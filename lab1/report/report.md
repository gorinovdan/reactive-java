# Отчет

## Лабораторная работа №1

выполнили:

- Щербаков Александр 
- Горинов Даниил

## Задание

Предметная область: "интеграция магазина с банком"

1. Написать для согласованной предметной области как минимум 3 базовых класса и генераторы объектов.
   Генератор должен уметь создавать указанное количество различных объектов сответствующего класса со случайными
   (но при этом валидными) характеристиками. Класс, представляющий собой массовый объект должен обязательно содержать поля следющих типов:
- один из примитивов (int, long, double)
- String
- дата/время (LocalDate, LocalTime, ...)
- enum
- record
- массив или коллекция
  Остальные поля - произвольные, какие нужны для предметной области.
  Два оставшихся класса должны представлять собой дополнительные атрибуты и характиристики массового класса.

2. С помощью генератора создать коллекцию объектов.
3. Написать код, реализующий расчет согласованных агрегированных статических данных тремя способами:
   3.1. Итерационным циклом по коллекции
   3.2. Конвейером с помощью Stream API на базе коллекторов из стандартной библиотеки
   3.3. Конвейером с помощью собственного коллектора.

4. Для каждого варианта измерить время выполнения, зафиксировав моменты начала и окончания расчета для количества элементов в коллекции - 5000, 50000 и 250000. Время измерять с помощью методов класса System или Instant


## Результат работы теста

```
Sample statistics (iterative variant):
ReceiptStatistics{
  totalRevenue=5710057.500335116
  averageReceiptAmount=1142.0115000670232
  minReceiptAmount=36.99998318556258
  maxReceiptAmount=3430.3796769574005
  totalOrders=5000
  ordersByStatus={PAID=1271, PENDING=1296, DELIVERED=1248, FAILED=1185}
  totalItemsSold=55853
  uniqueCustomers=5000
  totalLoyaltyPoints=568490
  revenueByMonth={1=481953.16980766784, 2=419957.0062774844, 3=472529.66578268516, 4=440363.7413206926, 5=484481.253604041, 6=461693.9837572668, 7=511600.55908076145, 8=489061.4226956091, 9=450754.84336234484, 10=520588.45824083895, 11=483213.59837752813, 12=493859.7980281894}
}

──────────────────────────────────────────────────────────────────────────────
Receipts     │ Iterative          │ Stream             │ Custom collector
──────────────────────────────────────────────────────────────────────────────
       5 000 │ 155 ms             │ 204 ms             │ 70 ms ★
      50 000 │ 698 ms             │ 850 ms             │ 556 ms ★
     250 000 │ 3,523 s ★          │ 4,836 s            │ 3,721 s
```

### График сранения результатов:

![img_1.png](img_1.png)

Вывод: В ходе выполнения лабораторной работы было выявлено, что использование собственного коллектора (Collector) 
для агрегирования данных из потоков (Stream API) обеспечивает значительно более высокую производительность по сравнению 
с ручной обработкой элементов с помощью методов forEach, map или reduce.
Это объясняется тем, что кастомный коллектор:
- выполняет вычисления в один проход без создания промежуточных коллекций и объектов;
- минимизирует нагрузку на сборщик мусора;
- позволяет JIT-компилятору эффективнее оптимизировать код;
- поддерживает оптимизированную параллельную обработку данных с использованием методов supplier, accumulator и combiner.
Таким образом, применение специализированного коллектора обеспечивает более эффективную и масштабируемую обработку потоков данных, 
особенно при больших объёмах информации.